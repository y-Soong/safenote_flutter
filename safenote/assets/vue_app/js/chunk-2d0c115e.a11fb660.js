(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0c115e"],{4518:function(e,t,l){"use strict";l.r(t);var a=l("7a23"),u=l("6605"),s=l("0d5e");const c={class:"min-h-screen flex flex-col bg-white"},o={class:"flex-1 px-6"},n={class:"mt-20 mb-4 relative"},i=["disabled"],r=["disabled"],v={class:"mb-4 relative"},b=["disabled"],d=["disabled"],p={class:"mb-4 relative"},f=["disabled"],j=["disabled"],O={class:"mb-4 relative"},m={class:"mb-4 relative"},g={class:"mb-4 relative"},y={class:"form-msg"},h={class:"p-6"};var w={__name:"ActInfoSrch",emits:["close"],setup(e,{emit:t}){const{proxy:l}=Object(a["n"])(),w=t,x=Object(u["d"])(),k=Object(a["G"])(""),G=Object(a["G"])(""),N=Object(a["G"])(""),C=Object(a["G"])(null),$=Object(a["G"])(""),P=Object(a["G"])(null),I=Object(a["G"])(""),W=Object(a["G"])(!1),S=Object(a["G"])(""),U=Object(a["G"])(""),E=Object(a["G"])(""),T=Object(a["G"])(""),_=Object(a["G"])("0"),A=Object(a["G"])("0"),M=Object(a["G"])(!1),V=Object(a["G"])(!1),F=Object(a["G"])(!1),B=Object(a["G"])(""),D=Object(a["G"])(""),q=Object(a["G"])(0);let R=null;function J(e){"mblNo"==e.target.id?l.$util.isNotEmpty($.value)&&ee():"userPw"==e.target.id?l.$util.isNotEmpty(S.value)&&Q():"userPwConfirm"==e.target.id&&l.$util.isNotEmpty(E.value)&&X()}Object(a["C"])(()=>{R&&clearInterval(R)}),Object(a["U"])(E,e=>{e==S.value?D.value="✅":D.value="❌"});const Y=async()=>{try{const e=await s["a"].post("/comApi/baseinfo/getUserIdInfo",{userNm:N.value,mblNo:$.value});200===e.status&&(G.value=e.data.USER_ID,k.value=e.data.CMPNY_CD,z())}catch(e){te(e.response.data.message)}},z=async()=>{try{const e=await s["a"].post("/comApi/baseinfo/getSmsAuthReq",{mblNo:$.value,dupChkYn:"N"});if(200===e.status){const e="인증번호가 발송되었습니다.";te(e,()=>{W.value.focus()}),M.value=!0,W.value.focus(),_.value="1",q.value=60,R=setInterval(()=>{q.value--,q.value<=0&&(clearInterval(R),"3"!=_.value&&(_.value="2",k.value="",G.value="",M.value=!1))},1e3)}}catch(l){var e,t;null!==(e=l.response)&&void 0!==e&&null!==(t=e.data)&&void 0!==t&&t.message&&($.value="",te(l.response.data.message))}},H=async()=>{if(l.$util.isEmpty(I.value)){const e="인증번호를 입력해주세요.";te(e,()=>{I.value="",W.value.focus()})}else try{const e=await s["a"].post("/comApi/baseinfo/getSmsAuthChk",{mblNo:$.value,certNo:I.value});if(200===e.status){const e="인증되었습니다.";te(e,()=>{W.value.focus()}),V.value=!0,_.value="3"}}catch(e){te(e.response.data.message,()=>{W.value.focus()})}},K=async()=>{try{const e=await s["a"].post("/comApi/baseinfo/updateUserPw",{cmpnyCd:k.value,userId:G.value,userPw:E.value});if(200===e.status){const e="비밀번호가 재성정 되었습니다.";te(e,()=>{x.push({path:"/",query:{userId:G.value}})}),w("close")}}catch(e){te(e.response.data.message,()=>{B.value.focus()})}};function L(){if("0"==A.value)F.value=!0,A.value="1";else if("1"==A.value){if(l.$util.isEmpty(S.value)||l.$util.isEmpty(E.value)){const e="비밀번호를 확인해주세요.";return void te(e,()=>{l.$util.isEmpty(S.value)?U.value.focus():l.$util.isEmpty(E.value)&&T.value.focus()})}le("비밀번호를 재설정 하시겠습니까 ?",async()=>{K()})}}function Q(){if(S.value!=E.value&&(E.value=""),!l.$util.validatePasswordRule(S.value)){const e="숫자, 영문자, 특수문자 중 2가지 이상을\n포함하여 6~15자로 작성해 주세요.";te(e,()=>{S.value="",U.value.focus()})}}function X(){if(S.value!=E.value){const e="비밀번호를 확인해주세요.";te(e,()=>{E.value="",T.value.focus()})}}function Z(){if("0"==_.value||"2"==_.value)Y();else if("1"==_.value)if(q.value>0)H();else{const e="인증 시간이 만료되었습니다.";te(e,()=>{W.value.focus()})}else"3"==_.value&&x.push({path:"/",query:{userId:G.value}})}function ee(){if(l.$util.validatePhoneNumber($.value))$.value=l.$util.formatPhoneNumber($.value);else{const e="휴대폰 번호를 확인해주세요.";te(e,()=>{$.value="",P.value.focus()})}}async function te(e,t){await l.$alert(e),t&&t()}async function le(e,t){const a=await l.$confirm(e);a&&t&&t()}const ae=()=>{x.back()};return(e,t)=>(Object(a["D"])(),Object(a["h"])("div",c,[Object(a["i"])("div",{class:"flex items-center p-4 mt-10"},[Object(a["i"])("button",{onClick:ae,class:"mr-2 text-gray-600 hover:text-gray-900"},t[10]||(t[10]=[Object(a["i"])("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-8 w-8",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[Object(a["i"])("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)]))]),Object(a["i"])("div",o,[t[11]||(t[11]=Object(a["i"])("h3",{class:"text-gray-800 font-semibold mb-6 text-2xl"},[Object(a["j"])(" 이름과 휴대폰 번호를"),Object(a["i"])("br"),Object(a["j"])("입력해 주세요. ")],-1)),Object(a["i"])("div",n,[Object(a["W"])(Object(a["i"])("input",{id:"userNm",type:"text",ref_key:"userNmFcs",ref:C,"onUpdate:modelValue":t[0]||(t[0]=e=>N.value=e),placeholder:"사용자명",disabled:M.value,class:"w-full px-4 py-3 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"},null,8,i),[[a["S"],N.value]]),Object(a["W"])(Object(a["i"])("button",{onClick:t[1]||(t[1]=e=>N.value=""),type:"button",disabled:M.value,class:"absolute top-1/4 right-3 -translate-y-1/4 text-gray-400 hover:text-gray-600"}," ✕ ",8,r),[[a["T"],N.value]])]),Object(a["i"])("div",v,[Object(a["W"])(Object(a["i"])("input",{id:"mblNo",ref_key:"mblNoFcs",ref:P,"onUpdate:modelValue":t[2]||(t[2]=e=>$.value=e),onBlur:J,placeholder:"휴대폰 번호",disabled:M.value,class:"w-full px-4 py-3 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"},null,40,b),[[a["S"],$.value]]),Object(a["W"])(Object(a["i"])("button",{onClick:t[3]||(t[3]=e=>$.value=""),type:"button",disabled:M.value,class:"absolute top-1/4 right-3 -translate-y-1/4 text-gray-400 hover:text-gray-600"}," ✕ ",8,d),[[a["T"],$.value]])]),Object(a["i"])("div",p,[Object(a["W"])(Object(a["i"])("input",{id:"certNo",type:"text","onUpdate:modelValue":t[4]||(t[4]=e=>I.value=e),ref_key:"certNoFcs",ref:W,maxlength:"6",placeholder:"인증번호 6자리",disabled:V.value,class:"w-full px-4 py-3 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"},null,8,f),[[a["S"],I.value],[a["T"],M.value]]),Object(a["W"])(Object(a["i"])("button",{class:"absolute top-1/4 right-3 -translate-y-1/4 text-red",disabled:q.value>0},Object(a["M"])(q.value>0?""+q.value:"인증시간만료"),9,j),[[a["T"],M.value&&!V.value]])]),Object(a["i"])("div",O,[Object(a["W"])(Object(a["i"])("input",{id:"userId","onUpdate:modelValue":t[5]||(t[5]=e=>G.value=e),placeholder:"아이디",disabled:"",class:"w-full px-4 py-3 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"},null,512),[[a["S"],G.value],[a["T"],V.value]])]),Object(a["i"])("div",m,[Object(a["W"])(Object(a["i"])("input",{id:"userPw",ref_key:"userPwFcs",ref:U,type:"password","onUpdate:modelValue":t[6]||(t[6]=e=>S.value=e),onBlur:J,placeholder:"비밀번호",class:"w-full px-4 py-3 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"},null,544),[[a["S"],S.value],[a["T"],F.value]]),Object(a["W"])(Object(a["i"])("button",{onClick:t[7]||(t[7]=e=>S.value=""),type:"button",class:"absolute top-1/4 right-3 -translate-y-1/4 text-gray-400 hover:text-gray-600"}," ✕ ",512),[[a["T"],S.value]])]),Object(a["i"])("div",g,[Object(a["W"])(Object(a["i"])("input",{id:"userPwConfirm",ref_key:"userPwConfirmFcs",ref:T,type:"password","onUpdate:modelValue":t[8]||(t[8]=e=>E.value=e),onBlur:J,placeholder:"비밀번호 확인",class:"w-full px-4 py-3 pr-10 border rounded-md focus:outline-none focus:ring-2 focus:ring-green-600"},null,544),[[a["S"],E.value],[a["T"],F.value]]),Object(a["W"])(Object(a["i"])("button",{onClick:t[9]||(t[9]=e=>E.value=""),type:"button",class:"absolute top-1/4 right-3 -translate-y-1/4 text-gray-400 hover:text-gray-600"}," ✕ ",512),[[a["T"],E.value]])]),Object(a["i"])("span",y,Object(a["M"])(D.value),1)]),Object(a["i"])("div",h,[V.value?(Object(a["D"])(),Object(a["h"])("button",{key:0,onClick:L,class:"w-full mb-4 bg-white text-green-700 border border-green-700 py-3 rounded-md hover:bg-green-50 transition"},Object(a["M"])("0"==A.value?"비밀번호 초기화":"저장"),1)):Object(a["g"])("",!0),Object(a["i"])("button",{onClick:Z,class:"w-full bg-green-700 text-white py-3 rounded-md hover:bg-green-800 transition"},Object(a["M"])("0"==_.value?"인증번호 발송":"1"==_.value?"인증번호 확인":"2"==_.value?"인증번호 재발송":"로그인"),1)])]))}};const x=w;t["default"]=x}}]);
//# sourceMappingURL=chunk-2d0c115e.a11fb660.js.map