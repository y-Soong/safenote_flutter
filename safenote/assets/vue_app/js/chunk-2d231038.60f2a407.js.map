{"version":3,"sources":["webpack:///./src/views/chkLst/ChkLst.vue","webpack:///./src/views/chkLst/ChkLst.vue?ef78","webpack:///./src/views/chkLst/ChkLst.vue?4190"],"names":["route","useRoute","router","useRouter","chkptLst","ref","qrData","siteCd","chkptCd","onMounted","async","raw","query","qr","parsed","str","Array","isArray","JSON","parse","decodeURIComponent","e","console","warn","value","fnGetChkList","response","axios","post","status","data","map","x","_x$INSPECT_VALUE","INSPECT_ITEM_CD","INSPECT_ITEM_SUBJ","INSPECT_VALUE","undefined","err","_err$response","_err$response$data","error","alert","message","goBack","back","previews","reactive","memoByItem","openGallery","chkpt","el","document","getElementById","click","onFileSelected","input","target","file","files","id","url","URL","createObjectURL","push","removePreview","idx","list","item","revokeObjectURL","splice","onBeforeUnmount","Object","values","forEach","_createElementBlock","_hoisted_1","_createElementVNode","class","onClick","xmlns","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","d","_Fragment","_renderList","key","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","type","name","$event","_hoisted_8","_hoisted_10","_hoisted_11","style","_hoisted_12","accept","capture","onChange","length","_hoisted_15","_hoisted_16","img","i","src","alt","_hoisted_18","rows","placeholder","__exports__"],"mappings":"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","file":"js/chunk-2d231038.60f2a407.js","sourcesContent":["<template>\n  <div class=\"min-h-screen flex flex-col bg-white\">\n    <div class=\"flex items-center p-4 mt-10\">\n      <button @click=\"goBack\" class=\"mr-2 text-gray-600 hover:text-gray-900\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-8 w-8\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M15 19l-7-7 7-7\"\n          />\n        </svg>\n      </button>\n    </div>\n\n    <div class=\"px-5 pb-2\" v-for=\"chkpt in chkptLst\" :key=\"chkpt.INSPECT_ITEM_CD\">\n      <!-- 점검 항목 -->\n      <div\n        class=\"border border-gray-300 bg-gray-50 rounded-lg p-3 shadow-sm hover:shadow-md transition\"\n        style=\"background: #d5eee5\"\n      >\n        <div class=\"flex justify-between items-center\">\n          <span class=\"text-gray-800 font-semibold text-base sm:text-lg\">\n            {{ chkpt.INSPECT_ITEM_SUBJ }}\n          </span>\n\n          <!-- 라디오버튼 영역 -->\n          <div class=\"flex justify-end gap-4\">\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"Y\"\n                class=\"text-blue-500 focus:ring-blue-500\"\n              />\n              양호\n            </label>\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"N\"\n                class=\"text-red-500 focus:ring-red-500\"\n              />\n              불량\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <!-- 비고: 불량일 때만 노출 -->\n      <div v-if=\"chkpt.INSPECT_VALUE === 'N'\" class=\"shadow-sm mt-0\">\n        <!-- 버튼 우측 정렬 -->\n        <div class=\"flex justify-end gap-2 px-3 pt-1 pb-1\">\n          <!-- 사진첨부 -->\n          <button\n            class=\"rounded text-white text-sm px-3 py-1\"\n            style=\"background-color: #30796a\"\n            @click=\"openGallery(chkpt)\"\n          >\n            사진첨부\n          </button>\n        </div>\n\n        <input\n          type=\"file\"\n          :id=\"`gallery_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n        <!-- 숨겨진 input: 카메라 (mobile에서 카메라 바로 열림) -->\n        <input\n          type=\"file\"\n          :id=\"`camera_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n\n        <!-- 미리보기 -->\n        <div v-if=\"(previews[chkpt.INSPECT_ITEM_CD] || []).length\" class=\"px-3 pb-2\">\n          <div class=\"mt-2 grid grid-cols-3 sm:grid-cols-4 gap-2\">\n            <div\n              v-for=\"(img, i) in previews[chkpt.INSPECT_ITEM_CD]\"\n              :key=\"`${chkpt.INSPECT_ITEM_CD}_${i}`\"\n              class=\"relative border rounded overflow-hidden\"\n            >\n              <img :src=\"img.url\" alt=\"\" class=\"w-full h-24 object-cover\" />\n              <button\n                class=\"absolute top-1 right-1 bg-black/60 text-white text-xs rounded px-1\"\n                @click=\"removePreview(chkpt, i)\"\n              >\n                삭제\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 메모 -->\n        <textarea\n          class=\"w-full p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 bg-white rounded-lg\"\n          rows=\"2\"\n          placeholder=\"상세내용을 입력해주세요.\"\n          v-model=\"memoByItem[chkpt.INSPECT_ITEM_CD]\"\n        ></textarea>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, reactive, onMounted, onBeforeUnmount } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport axios from '@/api/axios'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst chkptLst = ref([])\n\nconst qrData = ref(null)\nconst siteCd = ref('')\nconst chkptCd = ref('')\n\nonMounted(async () => {\n  // route.query.qr 안정 파싱\n  const raw = route.query.qr\n  let parsed = null\n  try {\n    const str = Array.isArray(raw) ? raw[0] : raw\n    if (typeof str === 'string') {\n      parsed = JSON.parse(decodeURIComponent(str))\n    }\n  } catch (e) {\n    console.warn('QR parse failed:', e)\n  }\n\n  qrData.value = parsed || {}\n  siteCd.value = qrData.value.siteCd || ''\n  chkptCd.value = qrData.value.chkptCd || ''\n\n  await fnGetChkList()\n})\n\n// API 호출\nconst fnGetChkList = async () => {\n  try {\n    const response = await axios.post('/appApi/chkLst01/getChkLstInfo', {\n      siteCd: siteCd.value,\n      chkptCd: chkptCd.value,\n    })\n\n    if (response.status === 200) {\n      // 서버 응답을 필요한 필드만 매핑\n      chkptLst.value = (response.data || []).map((x) => ({\n        INSPECT_ITEM_CD: x.INSPECT_ITEM_CD,\n        INSPECT_ITEM_SUBJ: x.INSPECT_ITEM_SUBJ,\n        INSPECT_VALUE: x.INSPECT_VALUE ?? undefined,\n      }))\n    }\n  } catch (err) {\n    console.error(err)\n    alert(err?.response?.data?.message || '목록 조회 실패')\n  }\n}\n\nfunction goBack() {\n  router.back()\n}\n\n// ---------- 파일 선택/미리보기/업로드 ----------\nconst previews = reactive({})\nconst memoByItem = reactive({})\n\n// 버튼 → 숨은 input 트리거\nfunction openGallery(chkpt) {\n  const el = document.getElementById(`gallery_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\nfunction openCamera(chkpt) {\n  const el = document.getElementById(`camera_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\n\n// 파일 선택 시 미리보기 추가\nfunction onFileSelected(chkpt, e) {\n  const input = e.target\n  const file = input && input.files && input.files[0]\n  if (!file) return\n\n  const id = chkpt.INSPECT_ITEM_CD\n  const url = URL.createObjectURL(file)\n  if (!previews[id]) previews[id] = []\n  previews[id].push({ url, file })\n\n  // 같은 input으로 다시 선택 가능하도록 초기화\n  input.value = ''\n}\n\n// 미리보기 삭제\nfunction removePreview(chkpt, idx) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const list = previews[id] || []\n  const item = list[idx]\n  if (!item) return\n  URL.revokeObjectURL(item.url)\n  list.splice(idx, 1)\n}\n\n// 업로드(멀티파트 예시) — 실제 API 경로로 바꿔서 사용\nasync function uploadItem(chkpt) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const files = previews[id] || []\n  if (!files.length) {\n    alert('이미지를 선택하세요.')\n    return\n  }\n\n  const formData = new FormData()\n  formData.append('inspectItemCd', id)\n  formData.append('inspectValue', chkpt.INSPECT_VALUE || '')\n  formData.append('memo', memoByItem[id] || '')\n  files.forEach((f, i) => formData.append('files', f.file, `photo_${i + 1}.jpg`))\n\n  try {\n    await axios.post('/api/inspect/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    })\n    alert('업로드 완료!')\n  } catch (err) {\n    console.error(err)\n    alert('업로드 실패')\n  }\n}\n\n// 메모리 정리\nonBeforeUnmount(() => {\n  Object.values(previews).forEach((list) => {\n    (list || []).forEach((item) => URL.revokeObjectURL(item.url))\n  })\n})\n</script>\n","<template>\n  <div class=\"min-h-screen flex flex-col bg-white\">\n    <div class=\"flex items-center p-4 mt-10\">\n      <button @click=\"goBack\" class=\"mr-2 text-gray-600 hover:text-gray-900\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-8 w-8\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M15 19l-7-7 7-7\"\n          />\n        </svg>\n      </button>\n    </div>\n\n    <div class=\"px-5 pb-2\" v-for=\"chkpt in chkptLst\" :key=\"chkpt.INSPECT_ITEM_CD\">\n      <!-- 점검 항목 -->\n      <div\n        class=\"border border-gray-300 bg-gray-50 rounded-lg p-3 shadow-sm hover:shadow-md transition\"\n        style=\"background: #d5eee5\"\n      >\n        <div class=\"flex justify-between items-center\">\n          <span class=\"text-gray-800 font-semibold text-base sm:text-lg\">\n            {{ chkpt.INSPECT_ITEM_SUBJ }}\n          </span>\n\n          <!-- 라디오버튼 영역 -->\n          <div class=\"flex justify-end gap-4\">\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"Y\"\n                class=\"text-blue-500 focus:ring-blue-500\"\n              />\n              양호\n            </label>\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"N\"\n                class=\"text-red-500 focus:ring-red-500\"\n              />\n              불량\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <!-- 비고: 불량일 때만 노출 -->\n      <div v-if=\"chkpt.INSPECT_VALUE === 'N'\" class=\"shadow-sm mt-0\">\n        <!-- 버튼 우측 정렬 -->\n        <div class=\"flex justify-end gap-2 px-3 pt-1 pb-1\">\n          <!-- 사진첨부 -->\n          <button\n            class=\"rounded text-white text-sm px-3 py-1\"\n            style=\"background-color: #30796a\"\n            @click=\"openGallery(chkpt)\"\n          >\n            사진첨부\n          </button>\n        </div>\n\n        <input\n          type=\"file\"\n          :id=\"`gallery_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n        <!-- 숨겨진 input: 카메라 (mobile에서 카메라 바로 열림) -->\n        <input\n          type=\"file\"\n          :id=\"`camera_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n\n        <!-- 미리보기 -->\n        <div v-if=\"(previews[chkpt.INSPECT_ITEM_CD] || []).length\" class=\"px-3 pb-2\">\n          <div class=\"mt-2 grid grid-cols-3 sm:grid-cols-4 gap-2\">\n            <div\n              v-for=\"(img, i) in previews[chkpt.INSPECT_ITEM_CD]\"\n              :key=\"`${chkpt.INSPECT_ITEM_CD}_${i}`\"\n              class=\"relative border rounded overflow-hidden\"\n            >\n              <img :src=\"img.url\" alt=\"\" class=\"w-full h-24 object-cover\" />\n              <button\n                class=\"absolute top-1 right-1 bg-black/60 text-white text-xs rounded px-1\"\n                @click=\"removePreview(chkpt, i)\"\n              >\n                삭제\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 메모 -->\n        <textarea\n          class=\"w-full p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 bg-white rounded-lg\"\n          rows=\"2\"\n          placeholder=\"상세내용을 입력해주세요.\"\n          v-model=\"memoByItem[chkpt.INSPECT_ITEM_CD]\"\n        ></textarea>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, reactive, onMounted, onBeforeUnmount } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport axios from '@/api/axios'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst chkptLst = ref([])\n\nconst qrData = ref(null)\nconst siteCd = ref('')\nconst chkptCd = ref('')\n\nonMounted(async () => {\n  // route.query.qr 안정 파싱\n  const raw = route.query.qr\n  let parsed = null\n  try {\n    const str = Array.isArray(raw) ? raw[0] : raw\n    if (typeof str === 'string') {\n      parsed = JSON.parse(decodeURIComponent(str))\n    }\n  } catch (e) {\n    console.warn('QR parse failed:', e)\n  }\n\n  qrData.value = parsed || {}\n  siteCd.value = qrData.value.siteCd || ''\n  chkptCd.value = qrData.value.chkptCd || ''\n\n  await fnGetChkList()\n})\n\n// API 호출\nconst fnGetChkList = async () => {\n  try {\n    const response = await axios.post('/appApi/chkLst01/getChkLstInfo', {\n      siteCd: siteCd.value,\n      chkptCd: chkptCd.value,\n    })\n\n    if (response.status === 200) {\n      // 서버 응답을 필요한 필드만 매핑\n      chkptLst.value = (response.data || []).map((x) => ({\n        INSPECT_ITEM_CD: x.INSPECT_ITEM_CD,\n        INSPECT_ITEM_SUBJ: x.INSPECT_ITEM_SUBJ,\n        INSPECT_VALUE: x.INSPECT_VALUE ?? undefined,\n      }))\n    }\n  } catch (err) {\n    console.error(err)\n    alert(err?.response?.data?.message || '목록 조회 실패')\n  }\n}\n\nfunction goBack() {\n  router.back()\n}\n\n// ---------- 파일 선택/미리보기/업로드 ----------\nconst previews = reactive({})\nconst memoByItem = reactive({})\n\n// 버튼 → 숨은 input 트리거\nfunction openGallery(chkpt) {\n  const el = document.getElementById(`gallery_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\nfunction openCamera(chkpt) {\n  const el = document.getElementById(`camera_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\n\n// 파일 선택 시 미리보기 추가\nfunction onFileSelected(chkpt, e) {\n  const input = e.target\n  const file = input && input.files && input.files[0]\n  if (!file) return\n\n  const id = chkpt.INSPECT_ITEM_CD\n  const url = URL.createObjectURL(file)\n  if (!previews[id]) previews[id] = []\n  previews[id].push({ url, file })\n\n  // 같은 input으로 다시 선택 가능하도록 초기화\n  input.value = ''\n}\n\n// 미리보기 삭제\nfunction removePreview(chkpt, idx) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const list = previews[id] || []\n  const item = list[idx]\n  if (!item) return\n  URL.revokeObjectURL(item.url)\n  list.splice(idx, 1)\n}\n\n// 업로드(멀티파트 예시) — 실제 API 경로로 바꿔서 사용\nasync function uploadItem(chkpt) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const files = previews[id] || []\n  if (!files.length) {\n    alert('이미지를 선택하세요.')\n    return\n  }\n\n  const formData = new FormData()\n  formData.append('inspectItemCd', id)\n  formData.append('inspectValue', chkpt.INSPECT_VALUE || '')\n  formData.append('memo', memoByItem[id] || '')\n  files.forEach((f, i) => formData.append('files', f.file, `photo_${i + 1}.jpg`))\n\n  try {\n    await axios.post('/api/inspect/upload', formData, {\n      headers: { 'Content-Type': 'multipart/form-data' },\n    })\n    alert('업로드 완료!')\n  } catch (err) {\n    console.error(err)\n    alert('업로드 실패')\n  }\n}\n\n// 메모리 정리\nonBeforeUnmount(() => {\n  Object.values(previews).forEach((list) => {\n    (list || []).forEach((item) => URL.revokeObjectURL(item.url))\n  })\n})\n</script>\n","import script from \"./ChkLst.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChkLst.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}