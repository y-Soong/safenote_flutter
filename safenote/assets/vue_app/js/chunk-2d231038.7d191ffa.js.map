{"version":3,"sources":["webpack:///./src/views/chkLst/ChkLst.vue","webpack:///./src/views/chkLst/ChkLst.vue?ef78","webpack:///./src/views/chkLst/ChkLst.vue?4190"],"names":["route","useRoute","router","useRouter","chkptLst","ref","qrData","siteCd","chkptCd","onMounted","async","raw","query","qr","parsed","str","Array","isArray","JSON","parse","decodeURIComponent","e","console","warn","value","fnGetChkList","res","axios","post","status","data","map","x","_x$INSPECT_VALUE","INSPECT_ITEM_CD","INSPECT_ITEM_SUBJ","INSPECT_VALUE","undefined","err","_err$response","_err$response$data","error","alert","response","message","goBack","back","previews","reactive","memoByItem","openGallery","chkpt","el","document","getElementById","click","openCamera","onFileSelected","_input$files","input","target","file","files","id","url","URL","createObjectURL","list","push","removePreview","idx","item","revokeObjectURL","next","splice","onBeforeUnmount","Object","values","forEach","_createElementBlock","_hoisted_1","_createElementVNode","class","onClick","xmlns","fill","viewBox","stroke","stroke-linecap","stroke-linejoin","stroke-width","d","_Fragment","_renderList","key","_hoisted_2","_hoisted_3","_hoisted_4","_toDisplayString","_hoisted_5","_hoisted_6","type","name","$event","_hoisted_8","_hoisted_10","_hoisted_11","style","_hoisted_12","_hoisted_13","accept","onChange","capture","length","_hoisted_16","_hoisted_17","img","i","src","alt","_hoisted_19","rows","placeholder","__exports__"],"mappings":"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","file":"js/chunk-2d231038.7d191ffa.js","sourcesContent":["<template>\n  <div class=\"min-h-screen flex flex-col bg-white\">\n    <div class=\"flex items-center p-4 mt-10\">\n      <button @click=\"goBack\" class=\"mr-2 text-gray-600 hover:text-gray-900\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-8 w-8\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M15 19l-7-7 7-7\"\n          />\n        </svg>\n      </button>\n    </div>\n\n    <div class=\"px-5 pb-2\" v-for=\"chkpt in chkptLst\" :key=\"chkpt.INSPECT_ITEM_CD\">\n      <!-- 점검 항목 -->\n      <div\n        class=\"border border-gray-300 bg-gray-50 rounded-lg p-3 shadow-sm hover:shadow-md transition\"\n        style=\"background: #d5eee5\"\n      >\n        <div class=\"flex justify-between items-center\">\n          <span class=\"text-gray-800 font-semibold text-base sm:text-lg\">\n            {{ chkpt.INSPECT_ITEM_SUBJ }}\n          </span>\n\n          <!-- 라디오버튼 -->\n          <div class=\"flex justify-end gap-4\">\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"Y\"\n                class=\"text-blue-500 focus:ring-blue-500\"\n              />\n              양호\n            </label>\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"N\"\n                class=\"text-red-500 focus:ring-red-500\"\n              />\n              불량\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <!-- 불량일 때만 추가영역 -->\n      <div v-if=\"chkpt.INSPECT_VALUE === 'N'\" class=\"shadow-sm mt-0\">\n        <!-- 버튼 -->\n        <div class=\"flex justify-end gap-2 px-3 pt-1 pb-1\">\n          <!-- 갤러리(앨범/파일 선택기) -->\n          <button\n            class=\"rounded text-white text-sm px-3 py-1\"\n            style=\"background-color: #30796a\"\n            @click=\"openGallery(chkpt)\"\n          >\n            사진첨부1\n          </button>\n          <!-- 카메라(직행) -->\n          <button\n            class=\"rounded text-white text-sm px-3 py-1\"\n            style=\"background-color: #30796a\"\n            @click=\"openCamera(chkpt)\"\n          >\n            카메라\n          </button>\n        </div>\n\n        <!-- ✅ 갤러리 전용: capture 없음 -->\n        <input\n          type=\"file\"\n          :id=\"`gallery_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n        <!-- ✅ 카메라 전용: capture 사용 -->\n        <input\n          type=\"file\"\n          :id=\"`camera_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n\n        <!-- 미리보기 -->\n        <div v-if=\"(previews[chkpt.INSPECT_ITEM_CD] || []).length\" class=\"px-3 pb-2\">\n          <div class=\"mt-2 grid grid-cols-3 sm:grid-cols-4 gap-2\">\n            <div\n              v-for=\"(img, i) in previews[chkpt.INSPECT_ITEM_CD]\"\n              :key=\"`${chkpt.INSPECT_ITEM_CD}_${i}`\"\n              class=\"relative border rounded overflow-hidden\"\n            >\n              <img :src=\"img.url\" alt=\"\" class=\"w-full h-24 object-cover\" />\n              <button\n                class=\"absolute top-1 right-1 bg-black/60 text-white text-xs rounded px-1\"\n                @click=\"removePreview(chkpt, i)\"\n              >\n                삭제\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 메모 -->\n        <textarea\n          class=\"w-full p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 bg-white rounded-lg\"\n          rows=\"2\"\n          placeholder=\"상세내용을 입력해주세요.\"\n          v-model=\"memoByItem[chkpt.INSPECT_ITEM_CD]\"\n        ></textarea>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, reactive, onMounted, onBeforeUnmount } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport axios from '@/api/axios'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst chkptLst = ref([])\nconst qrData = ref(null)\nconst siteCd = ref('')\nconst chkptCd = ref('')\n\nonMounted(async () => {\n  // route.query.qr 파싱\n  const raw = route.query.qr\n  let parsed = null\n  try {\n    const str = Array.isArray(raw) ? raw[0] : raw\n    if (typeof str === 'string') parsed = JSON.parse(decodeURIComponent(str))\n  } catch (e) {\n    console.warn('QR parse failed:', e)\n  }\n  qrData.value = parsed || {}\n  siteCd.value = qrData.value.siteCd || ''\n  chkptCd.value = qrData.value.chkptCd || ''\n  await fnGetChkList()\n})\n\nconst fnGetChkList = async () => {\n  try {\n    const res = await axios.post('/appApi/chkLst01/getChkLstInfo', {\n      siteCd: siteCd.value,\n      chkptCd: chkptCd.value\n    })\n    if (res.status === 200) {\n      chkptLst.value = (res.data || []).map(x => ({\n        INSPECT_ITEM_CD: x.INSPECT_ITEM_CD,\n        INSPECT_ITEM_SUBJ: x.INSPECT_ITEM_SUBJ,\n        INSPECT_VALUE: x.INSPECT_VALUE ?? undefined\n      }))\n    }\n  } catch (err) {\n    console.error(err)\n    alert(err?.response?.data?.message || '목록 조회 실패')\n  }\n}\n\nfunction goBack () { router.back() }\n\n// ---------- 파일 선택/미리보기 ----------\nconst previews = reactive({})\nconst memoByItem = reactive({})\n\nfunction openGallery (chkpt) {\n  const el = document.getElementById(`gallery_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\nfunction openCamera (chkpt) {\n  const el = document.getElementById(`camera_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\n\nfunction onFileSelected (chkpt, e) {\n  const input = e.target\n  const file = input?.files?.[0]\n  if (!file) {\n    console.warn('no file selected (user cancelled / webview policy)')\n    return\n  }\n  const id = chkpt.INSPECT_ITEM_CD\n  const url = URL.createObjectURL(file)\n  const list = previews[id] ? [...previews[id]] : []\n  list.push({ url, file })\n  previews[id] = list\n  input.value = '' // 재선택 허용\n}\n\nfunction removePreview (chkpt, idx) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const list = previews[id] || []\n  const item = list[idx]\n  if (!item) return\n  URL.revokeObjectURL(item.url)\n  const next = [...list]\n  next.splice(idx, 1)\n  previews[id] = next\n}\n\n// (예시) 업로드\nasync function uploadItem (chkpt) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const files = previews[id] || []\n  if (!files.length) {\n    alert('이미지를 선택하세요.')\n    return\n  }\n  const formData = new FormData()\n  formData.append('inspectItemCd', id)\n  formData.append('inspectValue', chkpt.INSPECT_VALUE || '')\n  formData.append('memo', memoByItem[id] || '')\n  files.forEach((f, i) => formData.append('files', f.file, `photo_${i + 1}.jpg`))\n  try {\n    await axios.post('/api/inspect/upload', formData, { headers: { 'Content-Type': 'multipart/form-data' } })\n    alert('업로드 완료!')\n  } catch (err) {\n    console.error(err)\n    alert('업로드 실패')\n  }\n}\n\nonBeforeUnmount(() => {\n  Object.values(previews).forEach((list) => {\n    (list || []).forEach((item) => URL.revokeObjectURL(item.url))\n  })\n})\n</script>\n","<template>\n  <div class=\"min-h-screen flex flex-col bg-white\">\n    <div class=\"flex items-center p-4 mt-10\">\n      <button @click=\"goBack\" class=\"mr-2 text-gray-600 hover:text-gray-900\">\n        <svg\n          xmlns=\"http://www.w3.org/2000/svg\"\n          class=\"h-8 w-8\"\n          fill=\"none\"\n          viewBox=\"0 0 24 24\"\n          stroke=\"currentColor\"\n        >\n          <path\n            stroke-linecap=\"round\"\n            stroke-linejoin=\"round\"\n            stroke-width=\"2\"\n            d=\"M15 19l-7-7 7-7\"\n          />\n        </svg>\n      </button>\n    </div>\n\n    <div class=\"px-5 pb-2\" v-for=\"chkpt in chkptLst\" :key=\"chkpt.INSPECT_ITEM_CD\">\n      <!-- 점검 항목 -->\n      <div\n        class=\"border border-gray-300 bg-gray-50 rounded-lg p-3 shadow-sm hover:shadow-md transition\"\n        style=\"background: #d5eee5\"\n      >\n        <div class=\"flex justify-between items-center\">\n          <span class=\"text-gray-800 font-semibold text-base sm:text-lg\">\n            {{ chkpt.INSPECT_ITEM_SUBJ }}\n          </span>\n\n          <!-- 라디오버튼 -->\n          <div class=\"flex justify-end gap-4\">\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"Y\"\n                class=\"text-blue-500 focus:ring-blue-500\"\n              />\n              양호\n            </label>\n            <label class=\"flex items-center gap-1 text-sm text-gray-700\">\n              <input\n                type=\"radio\"\n                :name=\"'chk_' + chkpt.INSPECT_ITEM_CD\"\n                v-model=\"chkpt.INSPECT_VALUE\"\n                value=\"N\"\n                class=\"text-red-500 focus:ring-red-500\"\n              />\n              불량\n            </label>\n          </div>\n        </div>\n      </div>\n\n      <!-- 불량일 때만 추가영역 -->\n      <div v-if=\"chkpt.INSPECT_VALUE === 'N'\" class=\"shadow-sm mt-0\">\n        <!-- 버튼 -->\n        <div class=\"flex justify-end gap-2 px-3 pt-1 pb-1\">\n          <!-- 갤러리(앨범/파일 선택기) -->\n          <button\n            class=\"rounded text-white text-sm px-3 py-1\"\n            style=\"background-color: #30796a\"\n            @click=\"openGallery(chkpt)\"\n          >\n            사진첨부1\n          </button>\n          <!-- 카메라(직행) -->\n          <button\n            class=\"rounded text-white text-sm px-3 py-1\"\n            style=\"background-color: #30796a\"\n            @click=\"openCamera(chkpt)\"\n          >\n            카메라\n          </button>\n        </div>\n\n        <!-- ✅ 갤러리 전용: capture 없음 -->\n        <input\n          type=\"file\"\n          :id=\"`gallery_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n        <!-- ✅ 카메라 전용: capture 사용 -->\n        <input\n          type=\"file\"\n          :id=\"`camera_${chkpt.INSPECT_ITEM_CD}`\"\n          accept=\"image/*\"\n          capture=\"environment\"\n          class=\"hidden\"\n          @change=\"onFileSelected(chkpt, $event)\"\n        />\n\n        <!-- 미리보기 -->\n        <div v-if=\"(previews[chkpt.INSPECT_ITEM_CD] || []).length\" class=\"px-3 pb-2\">\n          <div class=\"mt-2 grid grid-cols-3 sm:grid-cols-4 gap-2\">\n            <div\n              v-for=\"(img, i) in previews[chkpt.INSPECT_ITEM_CD]\"\n              :key=\"`${chkpt.INSPECT_ITEM_CD}_${i}`\"\n              class=\"relative border rounded overflow-hidden\"\n            >\n              <img :src=\"img.url\" alt=\"\" class=\"w-full h-24 object-cover\" />\n              <button\n                class=\"absolute top-1 right-1 bg-black/60 text-white text-xs rounded px-1\"\n                @click=\"removePreview(chkpt, i)\"\n              >\n                삭제\n              </button>\n            </div>\n          </div>\n        </div>\n\n        <!-- 메모 -->\n        <textarea\n          class=\"w-full p-3 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 border border-gray-300 bg-white rounded-lg\"\n          rows=\"2\"\n          placeholder=\"상세내용을 입력해주세요.\"\n          v-model=\"memoByItem[chkpt.INSPECT_ITEM_CD]\"\n        ></textarea>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\n/* eslint-disable */\nimport { ref, reactive, onMounted, onBeforeUnmount } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport axios from '@/api/axios'\n\nconst route = useRoute()\nconst router = useRouter()\n\nconst chkptLst = ref([])\nconst qrData = ref(null)\nconst siteCd = ref('')\nconst chkptCd = ref('')\n\nonMounted(async () => {\n  // route.query.qr 파싱\n  const raw = route.query.qr\n  let parsed = null\n  try {\n    const str = Array.isArray(raw) ? raw[0] : raw\n    if (typeof str === 'string') parsed = JSON.parse(decodeURIComponent(str))\n  } catch (e) {\n    console.warn('QR parse failed:', e)\n  }\n  qrData.value = parsed || {}\n  siteCd.value = qrData.value.siteCd || ''\n  chkptCd.value = qrData.value.chkptCd || ''\n  await fnGetChkList()\n})\n\nconst fnGetChkList = async () => {\n  try {\n    const res = await axios.post('/appApi/chkLst01/getChkLstInfo', {\n      siteCd: siteCd.value,\n      chkptCd: chkptCd.value\n    })\n    if (res.status === 200) {\n      chkptLst.value = (res.data || []).map(x => ({\n        INSPECT_ITEM_CD: x.INSPECT_ITEM_CD,\n        INSPECT_ITEM_SUBJ: x.INSPECT_ITEM_SUBJ,\n        INSPECT_VALUE: x.INSPECT_VALUE ?? undefined\n      }))\n    }\n  } catch (err) {\n    console.error(err)\n    alert(err?.response?.data?.message || '목록 조회 실패')\n  }\n}\n\nfunction goBack () { router.back() }\n\n// ---------- 파일 선택/미리보기 ----------\nconst previews = reactive({})\nconst memoByItem = reactive({})\n\nfunction openGallery (chkpt) {\n  const el = document.getElementById(`gallery_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\nfunction openCamera (chkpt) {\n  const el = document.getElementById(`camera_${chkpt.INSPECT_ITEM_CD}`)\n  if (el) el.click()\n}\n\nfunction onFileSelected (chkpt, e) {\n  const input = e.target\n  const file = input?.files?.[0]\n  if (!file) {\n    console.warn('no file selected (user cancelled / webview policy)')\n    return\n  }\n  const id = chkpt.INSPECT_ITEM_CD\n  const url = URL.createObjectURL(file)\n  const list = previews[id] ? [...previews[id]] : []\n  list.push({ url, file })\n  previews[id] = list\n  input.value = '' // 재선택 허용\n}\n\nfunction removePreview (chkpt, idx) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const list = previews[id] || []\n  const item = list[idx]\n  if (!item) return\n  URL.revokeObjectURL(item.url)\n  const next = [...list]\n  next.splice(idx, 1)\n  previews[id] = next\n}\n\n// (예시) 업로드\nasync function uploadItem (chkpt) {\n  const id = chkpt.INSPECT_ITEM_CD\n  const files = previews[id] || []\n  if (!files.length) {\n    alert('이미지를 선택하세요.')\n    return\n  }\n  const formData = new FormData()\n  formData.append('inspectItemCd', id)\n  formData.append('inspectValue', chkpt.INSPECT_VALUE || '')\n  formData.append('memo', memoByItem[id] || '')\n  files.forEach((f, i) => formData.append('files', f.file, `photo_${i + 1}.jpg`))\n  try {\n    await axios.post('/api/inspect/upload', formData, { headers: { 'Content-Type': 'multipart/form-data' } })\n    alert('업로드 완료!')\n  } catch (err) {\n    console.error(err)\n    alert('업로드 실패')\n  }\n}\n\nonBeforeUnmount(() => {\n  Object.values(previews).forEach((list) => {\n    (list || []).forEach((item) => URL.revokeObjectURL(item.url))\n  })\n})\n</script>\n","import script from \"./ChkLst.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./ChkLst.vue?vue&type=script&setup=true&lang=js\"\n\nconst __exports__ = script;\n\nexport default __exports__"],"sourceRoot":""}